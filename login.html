<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="login.css">
    <title>Login</title>
</head>
<body background="https://i.postimg.cc/zfpq5wMh/login-bg.jpg" style="background-size: 100%;" >
<div class="navbar">
    <a class="active" href="index.html">Home</a>
</div>

<!-- Login Form -->
<form id="loginForm">
    <h2>Login</h2>
    <p>Enter Email:</p>
    <input id="loginEmail" type="email" name="email" required><br>
    <p>Enter Password:</p>
    <input id="loginPassword" type="password" name="password" required><br>
    <button type="button" id="loginButton">Login</button><br><br>
    <p>New User? <a href="registration.html">Register</p>

    <div class="alert" style="display: none;"></div>
    <script>
        var input = document.getElementById("loginPassword");
        input.addEventListener("keypress", function (event) {
            if (event.key === "Enter") {
                event.preventDefault();
                document.getElementById("loginButton").click();
            }
        });
    </script>
</form>

<script type="module">
     import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
     import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
     import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";

     // Your web app's Firebase configuration
     const firebaseConfig = {
         apiKey: "AIzaSyDvC9AMwRzzMRoDv1wId7CyLB8xUAmrTzU",
   authDomain: "ecom-f6cc0.firebaseapp.com",
   databaseURL: "https://ecom-f6cc0-default-rtdb.firebaseio.com",
   projectId: "ecom-f6cc0",
   storageBucket: "ecom-f6cc0.appspot.com",
   messagingSenderId: "763921053227",
   appId: "1:763921053227:web:3e9eca1f2bb024ddfd1c6e",
   measurementId: "G-F79K7LJPY0"
     };

     // Initialize Firebase
     const app = initializeApp(firebaseConfig);
     const analytics = getAnalytics(app);
     const auth = getAuth();



    // Login Form
    document.getElementById("loginButton").addEventListener("click", function(){
        const email = document.getElementById("loginEmail").value;
        const password = document.getElementById("loginPassword").value;
        signInWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                const user = userCredential.user;
                console.log("Login successful:", user);
                alert("Login successful!");
                window.location.href = "index.html";
                // You can redirect the user to another page or perform other actions after successful login
            })
            .catch((error) => {
                const errorMessage = error.message;
                console.error("Login failed:", errorMessage);
                alert("Login failed: " + errorMessage);
            });
    });
</script>
</body>
</html>
